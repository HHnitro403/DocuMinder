
<div class="flex h-full flex-col">
  <!-- Desktop Titlebar (Visual only for web, functional for Tauri if configured) -->
  <div class="h-8 bg-gray-950 flex items-center px-4 select-none border-b border-gray-800 shrink-0" data-tauri-drag-region>
    <div class="text-xs text-gray-500 font-mono tracking-widest uppercase">DocuMinder v1.2</div>
  </div>

  <div class="flex flex-1 overflow-hidden">
    <!-- Sidebar - Only show if logged in -->
    @if (authService.isLoggedIn()) {
      <nav class="w-16 md:w-64 bg-gray-800 flex flex-col border-r border-gray-700 transition-all shrink-0">
        <div class="p-4 flex items-center justify-center md:justify-start gap-3 border-b border-gray-700 h-16">
          <i class="fa-solid fa-file-shield text-emerald-500 text-2xl"></i>
          <span class="hidden md:block font-bold text-xl tracking-tight">Docu<span class="text-emerald-500">Minder</span></span>
        </div>

        <div class="flex-1 py-6 flex flex-col gap-2 px-2">
          <a routerLink="/dashboard" routerLinkActive="bg-gray-700 text-white border-l-4 border-emerald-500" class="flex items-center gap-4 px-4 py-3 text-gray-400 hover:bg-gray-700/50 hover:text-white rounded-r-lg transition-colors group">
            <i class="fa-solid fa-table-columns text-lg w-6 text-center"></i>
            <span class="hidden md:block font-medium">Dashboard</span>
          </a>
          
          <a routerLink="/settings" routerLinkActive="bg-gray-700 text-white border-l-4 border-emerald-500" class="flex items-center gap-4 px-4 py-3 text-gray-400 hover:bg-gray-700/50 hover:text-white rounded-r-lg transition-colors group">
            <i class="fa-solid fa-gear text-lg w-6 text-center"></i>
            <span class="hidden md:block font-medium">Config & Sync</span>
          </a>
        </div>

        <div class="p-4 border-t border-gray-700">
           <button (click)="authService.logout()" class="w-full flex items-center justify-center md:justify-start gap-3 text-red-400 hover:text-red-300 hover:bg-red-900/20 px-2 py-2 rounded transition-colors">
              <i class="fa-solid fa-right-from-bracket"></i>
              <span class="hidden md:block text-sm font-bold">Logout</span>
           </button>
        </div>
      </nav>
    }

    <!-- Main Content Area -->
    <main class="flex-1 bg-gray-900 overflow-y-auto relative" [class.p-0]="!authService.isLoggedIn()" [class.p-4]="authService.isLoggedIn()" [class.md:p-8]="authService.isLoggedIn()">
      <router-outlet></router-outlet>
    </main>
  </div>
</div>
